# ============================================
# SynthStack Community Edition - Environment Variables
# Copy this file to .env and fill in your values
# ============================================
#
# This is the Community Edition - a complete open-source
# SaaS boilerplate for building your own applications.
#
# For rebranding instructions, see docs/REBRANDING_GUIDE.md
# All branding values have defaults in config.json - only
# set environment variables if you need to override them.
# ============================================

# Edition (DO NOT CHANGE)
SYNTHSTACK_EDITION=community

# ============================================
# BRANDING CONFIGURATION
# ============================================
# These override values from config.json
# Only set if you need to override the defaults
# ============================================

# App Identity
VITE_APP_NAME=SynthStack
VITE_APP_TAGLINE="Your AI Co-Founders"
VITE_APP_DOMAIN=synthstack.app
# VITE_APP_DESCRIPTION="Custom description for SEO"

# Contact Emails
VITE_CONTACT_EMAIL=team@manic.agency
VITE_SUPPORT_EMAIL=team@manic.agency
# VITE_SALES_EMAIL=sales@example.com

# Infrastructure Naming (used in Docker Compose)
CONTAINER_PREFIX=synthstack
NETWORK_NAME=synthstack-network
DATABASE_NAME=synthstack

# ============================================
# FEATURE FLAGS
# ============================================
# Community Edition defaults - Copilot ON, Referrals OFF

# Basic AI Copilot (simple chat, no advanced RAG)
ENABLE_COPILOT=true
ENABLE_AI_AGENTS=false
ENABLE_COPILOT_RAG=false
VITE_ENABLE_COPILOT=true
VITE_ENABLE_AI_AGENTS=false
VITE_ENABLE_COPILOT_RAG=false

# Referral System (Pro only)
ENABLE_REFERRALS=false
VITE_ENABLE_REFERRALS=false

# ============================================
# Database
# ============================================
DB_DATABASE=synthstack
DB_USER=synthstack
DB_PASSWORD=change-this-password

# Full connection URL (used by API Gateway)
# DATABASE_URL=postgresql://synthstack:change-this-password@localhost:5499/synthstack

# ============================================
# Directus CMS
# ============================================
# Generate unique keys with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
DIRECTUS_KEY=your-unique-directus-key-here
DIRECTUS_SECRET=your-unique-directus-secret-here
DIRECTUS_ADMIN_EMAIL=team@manic.agency
DIRECTUS_ADMIN_PASSWORD=YourSecurePassword!
DIRECTUS_ADMIN_TOKEN=replace-with-secure-static-token
DIRECTUS_PUBLIC_URL=http://localhost:8099

# Directus Branding (synced from config.json on container startup)
# PROJECT_NAME=SynthStack
# PROJECT_DESCRIPTOR="Your AI Co-Founders"
# PROJECT_COLOR=#6366F1

# ============================================
# Authentication Options
# ============================================

# Option 1: Supabase (managed auth)
# Leave blank to use local PostgreSQL auth.
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Option 2: Local PostgreSQL Auth (self-hosted)
# Set USE_LOCAL_AUTH=true to use local PostgreSQL instead of Supabase
USE_LOCAL_AUTH=false
# Generate JWT secret: openssl rand -base64 32
# JWT_SECRET=your-jwt-secret-here

# ============================================
# Stripe Payments (Optional)
# Get these from https://dashboard.stripe.com
# ============================================
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Price IDs for subscription tiers (create in Stripe Dashboard)
# STRIPE_PRICE_MAKER=price_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PRICE_PRO=price_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PRICE_AGENCY=price_xxxxxxxxxxxxxxxxxxxxx

# Optional: yearly subscription price IDs
# STRIPE_PRICE_MAKER_YEARLY=price_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PRICE_PRO_YEARLY=price_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PRICE_AGENCY_YEARLY=price_xxxxxxxxxxxxxxxxxxxxx

# Optional: lifetime license (one-time)
# STRIPE_PRICE_LIFETIME_PRO=price_xxxxxxxxxxxxxxxxxxxxx
# Legacy fallback (older installs)
# STRIPE_PRICE_LIFETIME=price_xxxxxxxxxxxxxxxxxxxxx

# ============================================
# AI APIs (for Copilot)
# ============================================
OPENAI_API_KEY=sk-xxx
# ANTHROPIC_API_KEY=sk-ant-xxx

# ============================================
# Encryption (Required for storing API keys)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ============================================
ENCRYPTION_KEY=your-64-char-hex-key-here-generate-with-crypto-randomBytes-32

# ============================================
# Email Service (Resend)
# ============================================
RESEND_API_KEY=re_your_api_key_here
RESEND_FROM_EMAIL=noreply@example.com
RESEND_FROM_NAME=SynthStack

# Email addresses for different purposes
CONTACT_EMAIL=support@example.com
NOREPLY_EMAIL=noreply@example.com

# ============================================
# Redis (Optional - for session caching)
# ============================================
REDIS_URL=redis://localhost:6399

# ============================================
# Application URLs
# ============================================
NODE_ENV=development

# Frontend URLs
FRONTEND_URL=http://localhost:3050
VITE_APP_URL=http://localhost:3050
VITE_API_URL=http://localhost:3003
VITE_DIRECTUS_URL=http://localhost:8099
VITE_ADMIN_URL=http://localhost:8099

# Supabase in frontend (leave blank to use local auth)
VITE_SUPABASE_URL=
VITE_SUPABASE_ANON_KEY=

# ============================================
# Analytics (GDPR-compliant with consent)
# ============================================
VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX
VITE_CLARITY_PROJECT_ID=xxxxxxxxxx
VITE_ENABLE_ANALYTICS=false

# ============================================
# i18n Configuration
# ============================================
VITE_I18N_ENABLED=true

# ============================================
# Newsletter Embed (Choose ONE provider)
# ============================================
# See docs/guides/NEWSLETTER_SETUP.md for full setup instructions
#
# Option 1: EmailOctopus (recommended - free tier: 2,500 contacts)
# Get form ID from: EmailOctopus → Lists → Forms → Embed code URL
VITE_NEWSLETTER_PROVIDER=emailoctopus
VITE_EMAILOCTOPUS_FORM_ID=your-form-id-here
#
# Option 2: Beehiiv (modern alternative - free tier: 2,500 contacts)
# Get publication ID from: Beehiiv → Settings → Publication ID
# VITE_NEWSLETTER_PROVIDER=beehiiv
# VITE_BEEHIIV_PUBLICATION_ID=your-publication-id-here

# ============================================
# Giscus Comments (Optional - GitHub Discussions)
# ============================================
# Enable community comments on blog posts via Giscus
# Configure at: https://giscus.app
#
# 1. Enable Discussions on your GitHub repo
# 2. Go to https://giscus.app and enter your repo
# 3. Copy the generated values below
# 4. Create a "Blog Comments" discussion category
VITE_GISCUS_REPO=
VITE_GISCUS_REPO_ID=R_kgDOQ6tKzg
VITE_GISCUS_CATEGORY=Community Blog
VITE_GISCUS_CATEGORY_ID=
VITE_GISCUS_MAPPING=pathname
VITE_GISCUS_LANG=en

# ============================================
# Optional: Sentry Error Tracking
# See docs/guides/SENTRY_SETUP.md for full setup
# ============================================
# SENTRY_DSN=https://xxx@o123456.ingest.sentry.io/xxx
# SENTRY_ENVIRONMENT=production
# VITE_SENTRY_DSN=https://xxx@o123456.ingest.sentry.io/xxx
# VITE_SENTRY_ENVIRONMENT=production

# ============================================
# Production Deployment (Reference Only)
# ============================================
# These are typically stored in CI/CD secrets
# APP_DOMAIN=yourapp.com
# REMOTE_HOST_PRODUCTION=your-server-ip
# REMOTE_USER=root
# REMOTE_SSH_KEY=(stored in CI/CD)
