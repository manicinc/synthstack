/**
 * CRITICAL FIX: Force scrolling on all pages
 * This file is loaded FIRST to override Quasar's fixed height layouts
 *
 * KEY PRINCIPLE: Don't fight the browser's natural scrolling.
 * Only override Quasar's prevent-scroll class when needed.
 */

/* Override Quasar's prevent-scroll class (used for dialogs/drawers) */
body.q-body--prevent-scroll {
  overflow-y: auto !important;
}

/* Let html be the scroll container - DO NOT force overflow on body too */
html {
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  /* CRITICAL: Prevent transforms from breaking fixed positioning */
  transform: none !important;
}

body {
  min-height: 100%;
  /* CRITICAL: Prevent transforms from breaking fixed positioning */
  transform: none !important;
}

#q-app {
  min-height: 100vh;
  /* CRITICAL: Prevent transforms from breaking fixed positioning */
  transform: none !important;
}

/* Fix Quasar layout components to allow content to flow naturally */
.q-layout {
  height: auto !important;
  min-height: 100vh !important;
  /* CRITICAL: Prevent transforms from breaking fixed positioning */
  transform: none !important;
}

.q-page-container {
  height: auto !important;
  min-height: auto !important;
  padding-top: 64px !important; /* Match header height (32px logo + 24px padding + border) */
}

.q-page {
  height: auto !important;
  min-height: auto !important;
}

/* ============================================
 * CRITICAL: Force SiteHeader to stay fixed at top
 * This is the key fix for the navigation menu
 * Using multiple high-specificity selectors to override Vue scoped styles
 * ============================================ */
.site-header,
html .site-header,
body .site-header,
#q-app .site-header,
.site-header.site-header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 9999 !important; /* Very high to ensure above all Quasar elements */
  /* Ensure no transforms break the fixed positioning */
  transform: none !important;
  will-change: auto !important;
  /* Prevent any containment issues */
  contain: none !important;
  /* Force hardware acceleration for smooth scrolling */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  /* Additional safeguards */
  isolation: isolate;
}

/* Mobile fixes */
@media (max-width: 1024px) {
  html {
    -webkit-overflow-scrolling: touch;
  }
}

/* Ensure content inside pages can expand */
.q-page > * {
  max-width: 100%;
}
